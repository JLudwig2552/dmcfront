<div ng-if="!not_found" class="profile">
  <md-content class="profile-padding">
    <div layout="row">
      <div flex="20">
        <img class="profile-image" ng-src="{{profile.image}}">
      </div>
      <div flex="80" layout="column" class="profile-header">
        <div layout="row" layout-align="center center">
          <div layout="column">
            <h2>{{profile.name}} <span>{{profile.position}}</span></h2>
            <h3>{{profile.company}}</h3>
            <h3>{{profile.city}}, {{profile.state}}</h3>
          </div>

          <span flex></span>

          <md-button aria-label="group_add" href="" class="md-icon-button">
            <ng-md-icon icon="group_add" style="fill: #65AF3F;" size="25"></ng-md-icon>
          </md-button>
          <md-button aria-label="email" href="" class="md-icon-button">
            <ng-md-icon icon="email" style="fill: #65AF3F;" size="25"></ng-md-icon>
          </md-button>
        </div>
          <span flex></span>

        <div layout="row" layout-align="center center">
          <ui-widget-stars-static size="15" value="{{profile.average_rating}}" text="({{profile.average_rating}})"></ui-widget-stars-static>
          <md-button ng-href="">View Storefront</md-button>
          <span flex></span>
          <md-button ng-href="">Follow</md-button>
          <md-button ng-href="">Invite to Project</md-button>
        </div>
      </div>
    </div>
    <md-divider></md-divider>
    <div class="profile-description">
      {{profile.description}} <a href="">Read More</a>
    </div>

    <md-tabs md-dynamic-height md-border-bottom>
      <md-tab label="History">
        <md-content class="md-padding" layout="row">
          <md-list flex class="profile-list">
            <md-subheader class="md-no-sticky">
              Public
              <md-button class="viewAll">View all</md-button>
            </md-subheader>
            <md-list-item>
              <ng-md-icon icon="done_all" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>First Name completed <a href="">The First Project</a></h2>
              <span flex></span>
              <h3>June 30</h3>
            </md-list-item>
            <md-list-item>
              <ng-md-icon icon="done_all" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>First Name completed <a href="">The Project</a></h2>
              <span flex></span>
              <h3>May 29</h3>
            </md-list-item>
            <md-list-item>
              <ng-md-icon icon="done_all" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>First Name completed <a href="">The First Project</a></h2>
              <span flex></span>
              <h3>June 30</h3>
            </md-list-item>
          </md-list>

          <span class="vertikal-divider"></span>

          <md-list flex class="profile-list">
            <md-subheader class="md-no-sticky">
              Shared
              <md-button class="viewAll">View all</md-button>
            </md-subheader>
            <md-list-item>
              <ng-md-icon icon="person" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>You added First Name as a contact</h2>
              <span flex></span>
              <h3>June 30</h3>
            </md-list-item>
            <md-list-item>
              <ng-md-icon icon="create" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>You rated First Name's <a href="">Product Name.</a><a href="">View your review.</a></h2>
              <span flex></span>
              <h3>May 01</h3>
            </md-list-item>
            <md-list-item>
              <ng-md-icon icon="supervisor_account" style="fill: #65AF3F;" size="25"></ng-md-icon>
              <h2>You worked with First Name on <a href="">The First Project.</a></h2>
              <span flex></span>
              <h3>March 30</h3>
            </md-list-item>
          </md-list>
        </md-content>
      </md-tab>

      <md-tab label="Skills">
        
      </md-tab>
    </md-tabs>

    <md-divider></md-divider>

    <!--Reviews-->
    <div layout="row" class="reviews" layout-margin layout-fill>
      <!--left column-->
      <div flex class="reviews-rating">
        <!--Rating header-->
        <div layout="row" class="md-toolbar-tools reviews-rating-header">
          <h2>Reviews</h2>
          <ui-widget-stars-static size="15" value="{{profile.average_rating}}" text="({{profile.average_rating}})"></ui-widget-stars-static>
          <span flex></span>
          <md-button md-no-ink ng-click="ViewAllReview()">View All({{number_of_comments}})</md-button>
        </div>
          <!--Rating-->
        <div layout="row">
          <p>5 STAR</p>
          <md-progress-linear md-mode="determinate" value="{{precentage_stars[4]}}" flex></md-progress-linear>
          <p flex="5">{{precentage_stars[4]}}%</p>
        </div>
        <div layout="row">
          <p>4 STAR</p>
          <md-progress-linear md-mode="determinate" value="{{precentage_stars[3]}}" flex></md-progress-linear>
          <p flex="5">{{precentage_stars[3]}}%</p>
        </div>
        <div layout="row">
          <p>3 STAR</p>
          <md-progress-linear md-mode="determinate" value="{{precentage_stars[2]}}" flex></md-progress-linear>
          <p flex="5">{{precentage_stars[2]}}%</p>
        </div>
        <div layout="row">
          <p>2 STAR</p>
          <md-progress-linear md-mode="determinate" value="{{precentage_stars[1]}}" flex></md-progress-linear>
          <p flex="5">{{precentage_stars[1]}}%</p>
        </div>
        <div layout="row">
          <p>1 STAR</p>
          <md-progress-linear md-mode="determinate" value="{{precentage_stars[0]}}" flex></md-progress-linear>
          <p flex="5">{{precentage_stars[0]}}%</p>
        </div>
      </div>
      <!--right column-->
      <div flex layout layout-align="center center">
        <md-button class="md-raised" ng-click="LeaveAReview()">Leave a Review</md-button>
        <span flex></span>
        <md-input-container>
          <label>Sorting</label>
          <md-select ng-model="sort" ng-change="SortingReviews(sort)">
            <md-option value="0" selected>Most Recent</md-option>
            <md-option value="1">Highest to Lowest Rating</md-option>
            <md-option value="2">Lowest to Highest Rating</md-option>
            <md-option value="3">Verified Users</md-option>
          </md-select>
        </md-input-container>
      </div>
    </div>

    <!--new review-->
    <div flex class="new-review" ng-if="LeaveFlag">
      <form name="CommentForm">
        <h2>Rating</h2>
        <ui-widget-stars-active size="20" value="{{average_rating}}" select-star="stars(star)"></ui-widget-stars-active>
        <md-input-container flex>
          <label>Comment</label>
          <textarea ng-model="NewReview.Comment" columns="1" md-maxlength="150"></textarea>
        </md-input-container>
        <div layout layout-align="end end">
          <md-button class="md-raised" ng-click="Cancel()">Cancel</md-button>
          <md-button class="md-raised" ng-click="Submit(NewReview)" ng-disabled="!NewReview.Comment || submit_rating==0" >Submit</md-button>
        </div>
      </form>
    </div>

    <md-divider></md-divider>

    <!--one Reviews-->
    <div ng-if="!editFlag" class="one-review-panel" ng-repeat="review in profile.reviews">
      <!--One Review header-->
      <div class="md-toolbar-tools">
        <ui-widget-stars-static size="15" value="{{review.rating}}"></ui-widget-stars-static>
        <h2>{{review.name}} <span>{{(review.status)? 'Verified': 'Unverified'}} User</span></h2>
        <span flex></span>
        <span>{{review.date}}</span>
      </div>
      <!--One Review content-->
      <md-content class="md-padding">
        {{review.comment}}
        <div layout layout-fill class="one-review-footer">
          <div flex>
            <a href="" ng-click="Reply($index)">Reply </a>|<a href="" ng-click="FlagReview($index)"> Flag review</a>
          </div>
          <span flex></span>
          <span>
            Was this review helpful?
            <md-button aria-label="Like" md-no-ink class="md-icon-button"  ng-click="Like(review)">
              <ng-md-icon icon="thumb_up" style="fill: black;" size="14"></ng-md-icon>
              {{(review.like > 0)? review.like: ''}}
            </md-button>
            <md-button aria-label="Dislike" md-no-ink class="md-icon-button"  ng-click="DisLike(review)">
              <ng-md-icon icon="thumb_down" style="fill: black;" size="14"></ng-md-icon>
              {{(review.dislike > 0)? review.dislike: ''}}
            </md-button>
          </span>
          </div>
        </md-content>

        <!--Reply-->
        <div flex class="new-review" ng-if="replyFlag == $index">
          <form name="CommentForm">
            <md-input-container flex>
              <label>Comment</label>
              <textarea ng-model="NewReview.Comment" columns="1" md-maxlength="150"></textarea>
            </md-input-container>
            <div layout layout-align="end end">
              <md-button class="md-raised" ng-click="Cancel()">Cancel</md-button>
              <md-button class="md-raised" ng-click="SubmitReply(NewReview)" ng-disabled="!NewReview.Comment" >Submit</md-button>
            </div>
          </form>
        </div>

        <!--Flag Review-->
        <div flex class="new-review" ng-if="flagReviewFlag == $index">
          <form name="CommentForm" layout="row" layout-align="start start">
            <md-input-container flex="20">
              <label>Reasone</label>
              <md-select ng-model="NewReview.Reasone" ng-change="">
                <md-option value="1">None</md-option>
              </md-select>
            </md-input-container>
            <div flex layout="column">
              <md-input-container flex>
                <label>Comment</label>
                <textarea ng-model="NewReview.Comment" columns="1" md-maxlength="150"></textarea>
              </md-input-container>
              <div layout layout-align="end end">
                <md-button class="md-raised" ng-click="Cancel()">Cancel</md-button>
                <md-button class="md-raised" ng-click="SubmitFlag(NewReview)" ng-disabled="!NewReview.Comment || !NewReview.Reasone" >Submit</md-button>
              </div>
            </div>
          </form>
        </div>

        <md-divider></md-divider>
    </div>
  </md-content>
</div>